# Session: GitHub + Vercel hardening pass
**Date:** 2025-11-10
**Task IDs:** CRH-101, CRH-102, CRH-103
**Models consulted:** GPT-5 (Codex)
**Image/Prompt IDs:** n/a
**Project Variant:** HITL
**Project Intent:** Stand up CI/deployment guardrails so CityBlocks can ship from GitHub to Vercel without surprises.

## Objectives
- Duplicate the project template into `cityblocks-repo-hygiene` and describe scope/tasks.
- Add CI, templates, and docs so the repo is GitHub-ready.
- Provide Vercel config + env scaffolding for hands-free deployments.

## Execution Notes
- Copied `agents-hub/project-template` → `agents-hub/cityblocks-repo-hygiene` and rewrote the README + tasks ledger with hardening goals.
- Added `.env.example`, `vercel.json`, `DEPLOYMENT.md`, and expanded the root README/CONTRIBUTING notes to document env + deployment flows.
- Created `.github/workflows/ci.yml`, issue templates, and a PR template to enforce lint/build and provide consistent reporting.
- Extended `ApiKeyFab`’s trigger earlier, so reused its new prop inside the redesigned control bar.
- Added `pnpm run preview` for parity with Vercel’s static build preview.

## Capability Flags
- Tooling
- DevOps

## Lint/Test Status
- `pnpm run lint` — pending (not re-run after docs-only changes)
- `pnpm run build` — pending

## Reflection — The Good / The Bad / The Ugly
- **Good:** Template duplication keeps hygiene work traceable under `agents-hub`.
- **Bad:** Need a future pass to actually run CI locally and capture screenshots of Vercel import.
- **Ugly:** `tasks.md` is still edited manually because no `tasks:export` script exists.

## Next Actions
- Run `pnpm run lint && pnpm run build` to confirm the untouched code still passes after config churn.
- Wire Vercel secrets (`vercel env add`) once the repo is pushed.
- Consider adding automated preview smoke tests (Playwright) in CI.

## Image Prompt
- Prompt ID: none
- Prompt Notes: n/a

## Files
- agents-hub/cityblocks-repo-hygiene/README.md
- agents-hub/cityblocks-repo-hygiene/tasks.yaml
- agents-hub/cityblocks-repo-hygiene/tasks.md
- .env.example
- vercel.json
- .github/workflows/ci.yml
- .github/ISSUE_TEMPLATE/*
- .github/pull_request_template.md
- CONTRIBUTING.md
- DEPLOYMENT.md
- README.md
- package.json

## Quote
- "Shipshape repos ship faster."
